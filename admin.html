<!DOCTYPE html>
<html>
<head>
<title>Admin Panel | Divyaraa Homes</title>

<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

<style>
body{
font-family:Arial;
background:#050816;
color:white;
padding:20px;
}

h2{
color:gold;
text-align:center;
}

table{
width:100%;
border-collapse:collapse;
margin-top:20px;
}

th,td{
border:1px solid #333;
padding:10px;
text-align:center;
}

th{
background:#111;
color:gold;
}
</style>
</head>

<body>

<h2>Divyaraa Homes - Admin Panel</h2>

<table>
<tr>
<th>Name</th>
<th>Mobile</th>
<th>Message</th>
<th>Date</th>
</tr>

<tbody id="data"></tbody>
</table>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDdpuNucflUlnN5FZy9EV8wxgZy041mxWc",
  authDomain: "divyaraa-homes.firebaseapp.com",
  projectId: "divyaraa-homes",
  storageBucket: "divyaraa-homes.firebasestorage.app",
  messagingSenderId: "135741152456",
  appId: "1:135741152456:web:7fb6ad26eb72e8ccf959fd"
};

firebase.initializeApp(firebaseConfig);

const db=firebase.firestore();

db.collection("leads").orderBy("time","desc").onSnapshot((snap)=>{

let html="";

snap.forEach(doc=>{

let d=doc.data();

html+=`
<tr>
<td>${d.name}</td>
<td>${d.mobile}</td>
<td>${d.message}</td>
<td>${new Date(d.time.seconds*1000).toLocaleString()}</td>
</tr>
`;

});

document.getElementById("data").innerHTML=html;

});
</script>

</body>
</html>
